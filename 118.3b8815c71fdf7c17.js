"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[118],{9118:(C,c,i)=>{i.r(c),i.d(c,{CertificacionRoutes:()=>k});var r=i(177),d=i(6707),p=i(2168),t=i(4438),g=i(4746),h=i(6695);const f=()=>[10,20,50,100,200,500,1e3,2e3,5e3];function m(s,o){if(1&s&&(t.j41(0,"div",17),t.EFF(1),t.nrm(2,"button",18),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.successMessage," ")}}function u(s,o){if(1&s&&(t.j41(0,"div",19),t.EFF(1),t.nrm(2,"button",18),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function b(s,o){if(1&s&&(t.j41(0,"a",22)(1,"i",23),t.EFF(2,"Verificar"),t.k0s()()),2&s){const e=t.XpG().$implicit;t.Y8G("href","https://sepolia.scrollscan.com/tx/"+e.trxHash,t.B4B)}}function F(s,o){if(1&s){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,l=t.XpG();return t.Njj(l.enviarQr(n))}),t.nrm(1,"i",23),t.EFF(2," Obtener QR "),t.k0s()}}function R(s,o){if(1&s&&(t.j41(0,"tr")(1,"td",14),t.EFF(2),t.k0s(),t.j41(3,"td",14),t.EFF(4),t.k0s(),t.j41(5,"td",14),t.EFF(6),t.k0s(),t.j41(7,"td",14),t.EFF(8),t.k0s(),t.j41(9,"td",14),t.DNE(10,b,3,1,"a",20)(11,F,3,0,"button",21),t.k0s()()),2&s){const e=o.$implicit;t.R7$(2),t.JRh(e.id),t.R7$(2),t.JRh(e.cedulaCliente),t.R7$(2),t.JRh(e.idPedido),t.R7$(2),t.JRh(e.trxHash),t.R7$(2),t.Y8G("ngIf",e.trxHash),t.R7$(),t.Y8G("ngIf",e.trxHash)}}const k=[{path:"",component:(()=>{class s{constructor(e){this.contratoService=e,this.successMessage=null,this.errorMessage=null,this.certificaciones=[],this.pageInfo={},this.pageSize=10,this.paginaActual=0,this.user=null}ngOnInit(){this.loadData()}loadData(){this.contratoService.getCertificaciones().subscribe({next:e=>{console.log(e),this.certificaciones=e},error:e=>{console.error("Error al obtener contratos",e)}})}onPageChange(e){this.pageSize=e.pageSize,this.paginaActual=e.pageIndex,this.loadData()}enviarQr(e){e&&window.open(`https://quickchart.io/qr?text=${e.trxHash}&ecLevel=Q&format=svg`,"_blank")}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(g.M))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-registro"]],standalone:!0,features:[t.aNF],decls:31,vars:8,consts:[["id","contenido_principal",2,"background-color","white"],[1,"row","justify-content-center"],[1,"col","text-center"],[1,"box-title","text-secondary",2,"font-size","30px"],["class","alert alert-success alert-dismissible fade show mt-3","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show mt-3","role","alert",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12"],[1,"card","border-green"],[1,"card-body","p-3"],[1,"table-responsive"],["id","tabla-empresas",1,"table","table-bordered","table-striped","table-condensed"],["colspan","5"],[1,"bg-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"page","length","pageSize","pageIndex","pageSizeOptions"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show","mt-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mt-3"],["class","btn btn-warning","target","_blank",3,"href",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["target","_blank",1,"btn","btn-warning",3,"href"],[1,"fas","fa-eye"],[1,"btn","btn-primary",3,"click"]],template:function(a,n){1&a&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"h4",3),t.EFF(4," Gestionar Registros de Contratos "),t.k0s(),t.DNE(5,m,3,1,"div",4)(6,u,3,1,"div",5),t.k0s()(),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"table",11)(13,"thead")(14,"tr"),t.nrm(15,"th",12),t.k0s()(),t.j41(16,"thead",13)(17,"tr")(18,"th",14),t.EFF(19,"ID"),t.k0s(),t.j41(20,"th",14),t.EFF(21,"Cedula del Cliente"),t.k0s(),t.j41(22,"th",14),t.EFF(23,"Id de Pedido"),t.k0s(),t.j41(24,"th",14),t.EFF(25,"TrxHash"),t.k0s(),t.j41(26,"th",14),t.EFF(27,"Accion"),t.k0s()()(),t.j41(28,"tbody"),t.DNE(29,R,12,6,"tr",15),t.k0s()(),t.j41(30,"mat-paginator",16),t.bIt("page",function(v){return n.onPageChange(v)}),t.k0s()()()()()()()),2&a&&(t.R7$(5),t.Y8G("ngIf",n.successMessage),t.R7$(),t.Y8G("ngIf",n.errorMessage),t.R7$(23),t.Y8G("ngForOf",n.certificaciones),t.R7$(),t.Y8G("length",n.pageInfo.totalElementos)("pageSize",n.pageSize)("pageIndex",n.paginaActual)("pageSizeOptions",t.lJ4(7,f)))},dependencies:[r.MD,r.Sq,r.bT,d.G,h.iy,p.iI],encapsulation:2})}}return s})(),data:{titulo:"Certificaciones"}}]}}]);