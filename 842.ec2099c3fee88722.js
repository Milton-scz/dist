"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[842],{7842:(L,u,s)=>{s.r(u),s.d(u,{AuthenticationRoutes:()=>G});var i=s(9417),m=s(2168),p=s(6707),c=s(8834),g=s(3794),e=s(4438),v=s(1806),h=s(2765),d=s(2102),f=s(9631);const b=()=>["/"],k=()=>["/authentication/register"];function w(t,a){1&t&&(e.j41(0,"div",33),e.EFF(1,"Name is required."),e.k0s())}function F(t,a){1&t&&(e.j41(0,"div",33),e.EFF(1," Name should be 6 character. "),e.k0s())}function j(t,a){if(1&t&&(e.j41(0,"mat-hint",25),e.DNE(1,w,2,0,"div",33)(2,F,2,0,"div",33),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.vxM(o.f.uname.errors&&o.f.uname.errors.required?1:-1),e.R7$(),e.vxM(o.f.uname.errors&&o.f.uname.errors.minlength?2:-1)}}function C(t,a){1&t&&(e.j41(0,"div",33),e.EFF(1,"Password is required."),e.k0s())}function E(t,a){if(1&t&&(e.j41(0,"mat-hint",25),e.DNE(1,C,2,0,"div",33),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.vxM(o.f.password.errors&&o.f.password.errors.required?1:-1)}}const x=()=>["/dashboards/dashboard1"],R=()=>["/authentication/login"];function y(t,a){1&t&&(e.j41(0,"div",34),e.EFF(1,"Name is required."),e.k0s())}function A(t,a){1&t&&(e.j41(0,"div",34),e.EFF(1," Name should be 6 character. "),e.k0s())}function N(t,a){if(1&t&&(e.j41(0,"mat-hint",28),e.DNE(1,y,2,0,"div",34)(2,A,2,0,"div",34),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.vxM(o.f.uname.errors&&o.f.uname.errors.required?1:-1),e.R7$(),e.vxM(o.f.uname.errors&&o.f.uname.errors.minlength?2:-1)}}function M(t,a){1&t&&(e.j41(0,"div",34),e.EFF(1,"Email is required."),e.k0s())}function _(t,a){if(1&t&&(e.j41(0,"mat-hint",28),e.DNE(1,M,2,0,"div",34),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.vxM(o.f.email.errors&&o.f.email.errors.required?1:-1)}}function $(t,a){1&t&&(e.j41(0,"div",34),e.EFF(1,"Password is required."),e.k0s())}function T(t,a){if(1&t&&(e.j41(0,"mat-hint",28),e.DNE(1,$,2,0,"div",34),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.vxM(o.f.password.errors&&o.f.password.errors.required?1:-1)}}const G=[{path:"",children:[{path:"login",component:(()=>{class t{constructor(o,r){this.router=o,this.apollo=r,this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.minLength(6)]),password:new i.MJ("",[i.k0.required])}),this.submitted=!1,this.successMessage=null,this.errorMessage=null}get f(){return this.form.controls}onSubmit(){if(this.submitted=!0,this.form.invalid)return;const{uname:o,password:r}=this.form.value;localStorage.clear(),this.authenticate(o,r)}authenticate(o,r){console.log(o,r),this.apollo.mutate({mutation:g.$u,variables:{email:o,password:r}}).subscribe({next:n=>{this.successMessage="\xa1Login exitoso!",this.errorMessage=null;const l=n.data.login;typeof localStorage<"u"?(localStorage.setItem("accessToken",l),this.decodeToken(l),console.log("localStorage est\xe1 disponible")):console.error("localStorage no est\xe1 disponible"),console.log("Token:",l),this.router.navigate(["/dashboard"])},error:n=>{this.errorMessage="Error, intente nuevamente.",this.successMessage=null,console.error("Error:",n)}})}decodeToken(o){try{const n=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),l=JSON.parse(atob(n));return console.log(l.role),localStorage.setItem("user",l.role),l}catch(r){console.error("Error decoding token",r)}}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(m.Ix),e.rXU(v.Ic))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-side-login"]],standalone:!0,features:[e.aNF],decls:50,vars:8,consts:[[1,"blank-layout-container","justify-content-center"],[1,"auth-wrapper"],[1,"position-relative","shaper-wrapper"],[1,"w-100","position-relative","rounded","bg-white","auth-card"],[1,"auth-body"],[1,"row"],[1,"col-lg-6"],[1,"align-items-center","justify-content-center","d-none","d-lg-flex"],["src","/assets/images/backgrounds/logo-polera.png","alt","login",2,"max-width","500px"],[1,"d-flex","align-items-start","align-items-lg-center","justify-content-center"],[1,"row","justify-content-center","w-100"],[1,"col-lg-11"],[1,"f-w-700","f-s-30","m-0","m-t-20","lh-base"],[1,"row","m-t-40"],[1,"col-12","col-sm-6"],["mat-stroked-button","",1,"w-100","m-b-4"],[1,"d-flex","align-items-center"],["src","/assets/images/svgs/google-icon.svg","alt","google","width","16",1,"m-r-8"],["mat-stroked-button","",1,"w-100","d-flex","align-items-center","m-b-4"],["src","/assets/images/svgs/facebook-icon.svg","alt","facebook","width","40",1,"m-r-4"],[1,"or-border","m-t-30"],[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname"],[1,"m-b-16","error-msg"],["matInput","","type","password","formControlName","password"],[1,"d-block","d-lg-flex","align-items-center","m-b-12"],["color","primary"],[1,"text-primary","f-w-600","text-decoration-none","m-l-auto","d-block","f-s-14",3,"routerLink"],["mat-flat-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","d-block","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],[1,"text-error"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.nrm(8,"img",8),e.k0s()(),e.j41(9,"div",6)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h4",12),e.EFF(14," Bienvenido a Shirt Design "),e.k0s(),e.j41(15,"div",13)(16,"div",14)(17,"button",15)(18,"div",16),e.nrm(19,"img",17),e.EFF(20," Sign in with Google "),e.k0s()()(),e.j41(21,"div",14)(22,"button",18)(23,"div",16),e.nrm(24,"img",19),e.EFF(25," Sign in with FB "),e.k0s()()()(),e.j41(26,"div",20),e.EFF(27,"or sign in with"),e.k0s(),e.j41(28,"form",21),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(29,"mat-label",22),e.EFF(30,"Username"),e.k0s(),e.j41(31,"mat-form-field",23),e.nrm(32,"input",24),e.DNE(33,j,3,2,"mat-hint",25),e.k0s(),e.j41(34,"mat-label",22),e.EFF(35,"Password"),e.k0s(),e.j41(36,"mat-form-field",23),e.nrm(37,"input",26),e.DNE(38,E,2,1,"mat-hint",25),e.k0s(),e.j41(39,"div",27)(40,"mat-checkbox",28),e.EFF(41,"Remember this Device"),e.k0s(),e.j41(42,"a",29),e.EFF(43,"Forgot Password ?"),e.k0s()(),e.j41(44,"button",30),e.EFF(45," Sign In "),e.k0s()(),e.j41(46,"span",31),e.EFF(47,"New? "),e.j41(48,"a",32),e.EFF(49," Create an account"),e.k0s()()()()()()()()()()()()),2&r&&(e.R7$(28),e.Y8G("formGroup",n.form),e.R7$(5),e.vxM(n.f.uname.touched&&n.f.uname.invalid?33:-1),e.R7$(5),e.vxM(n.f.password.touched&&n.f.password.invalid?38:-1),e.R7$(4),e.Y8G("routerLink",e.lJ4(6,b)),e.R7$(2),e.Y8G("disabled",!n.form.valid),e.R7$(4),e.Y8G("routerLink",e.lJ4(7,k)))},dependencies:[m.iI,m.Wk,p.G,h.So,d.rl,d.nJ,d.MV,f.fg,c.$z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,c.Hl],encapsulation:2})}}return t})()},{path:"register",component:(()=>{class t{constructor(o){this.router=o,this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.minLength(6)]),email:new i.MJ("",[i.k0.required]),password:new i.MJ("",[i.k0.required])})}get f(){return this.form.controls}submit(){this.router.navigate(["/"])}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-side-register"]],standalone:!0,features:[e.aNF],decls:54,vars:9,consts:[[1,"blank-layout-container","justify-content-center"],[1,"auth-wrapper"],[1,"position-relative","shaper-wrapper"],[1,"w-100","position-relative","rounded","bg-white","auth-card"],[1,"auth-body"],[1,"m-t-20","d-flex",3,"routerLink"],["src","./assets/images/logos/dark-logo.svg","alt","logo",1,"align-middle","m-2"],[1,"row"],[1,"col-lg-6"],[1,"align-items-center","justify-content-center","d-none","d-lg-flex"],["src","/assets/images/backgrounds/login3-bg.png","alt","login",2,"max-width","500px"],[1,"d-flex","align-items-start","align-items-lg-center","justify-content-center"],[1,"row","justify-content-center","w-100"],[1,"col-lg-11"],[1,"f-w-700","f-s-30","lh-base","m-0"],[1,"f-s-14","d-block","mat-body-1","m-t-8"],[1,"row","m-t-24"],[1,"col-12","col-sm-6"],["mat-stroked-button","",1,"w-100","m-b-4"],[1,"d-flex","align-items-center"],["src","/assets/images/svgs/google-icon.svg","alt","google","width","16",1,"m-r-8"],["mat-stroked-button","",1,"w-100","d-flex","align-items-center","m-b-4"],["src","/assets/images/svgs/facebook-icon.svg","alt","facebook","width","40",1,"m-r-4"],[1,"or-border","m-t-30"],[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname"],[1,"m-b-16","error-msg"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-flat-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","d-block","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],[1,"text-error"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e.nrm(6,"img",6),e.k0s(),e.j41(7,"div",7)(8,"div",8)(9,"div",9),e.nrm(10,"img",10),e.k0s()(),e.j41(11,"div",8)(12,"div",11)(13,"div",12)(14,"div",13)(15,"h4",14),e.EFF(16," Welcome to Spike Admin "),e.k0s(),e.j41(17,"span",15),e.EFF(18,"Your Admin Dashboard"),e.k0s(),e.j41(19,"div",16)(20,"div",17)(21,"button",18)(22,"div",19),e.nrm(23,"img",20),e.EFF(24," Sign up with Google "),e.k0s()()(),e.j41(25,"div",17)(26,"button",21)(27,"div",19),e.nrm(28,"img",22),e.EFF(29," Sign up with FB "),e.k0s()()()(),e.j41(30,"div",23),e.EFF(31,"or sign up with"),e.k0s(),e.j41(32,"form",24),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(33,"mat-label",25),e.EFF(34,"Name"),e.k0s(),e.j41(35,"mat-form-field",26),e.nrm(36,"input",27),e.DNE(37,N,3,2,"mat-hint",28),e.k0s(),e.j41(38,"mat-label",25),e.EFF(39,"Email Address"),e.k0s(),e.j41(40,"mat-form-field",26),e.nrm(41,"input",29),e.DNE(42,_,2,1,"mat-hint",28),e.k0s(),e.j41(43,"mat-label",25),e.EFF(44,"Password"),e.k0s(),e.j41(45,"mat-form-field",26),e.nrm(46,"input",30),e.DNE(47,T,2,1,"mat-hint",28),e.k0s(),e.j41(48,"button",31),e.EFF(49," Sign Up "),e.k0s()(),e.j41(50,"span",32),e.EFF(51,"Already have an Account? "),e.j41(52,"a",33),e.EFF(53," Sign In"),e.k0s()()()()()()()()()()()()),2&r&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(7,x)),e.R7$(27),e.Y8G("formGroup",n.form),e.R7$(5),e.vxM(n.f.uname.touched&&n.f.uname.invalid?37:-1),e.R7$(5),e.vxM(n.f.email.touched&&n.f.email.invalid?42:-1),e.R7$(5),e.vxM(n.f.password.touched&&n.f.password.invalid?47:-1),e.R7$(),e.Y8G("disabled",!n.form.valid),e.R7$(4),e.Y8G("routerLink",e.lJ4(8,R)))},dependencies:[m.iI,m.Wk,p.G,d.rl,d.nJ,d.MV,f.fg,c.$z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD],encapsulation:2})}}return t})()}]}]}}]);